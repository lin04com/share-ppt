<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Script error. - 演示页面</title>
	<style type="text/css">
	  *{ margin:0; padding:0;}
		#description { padding:15px;}
		#error{ color: #f00; padding:15px;}
	</style>
</head>
<body>

	<div id="description">
		<blockquote>
		错误说明：
			'Name' - > 错误类型
			'Message' -> 具体报错信息

			'Message' -> 错误描叙
			'Url' -> 错误JS路径地址
			'Line' -> 报错行数
		</blockquote>
	</div>

	<div id="error"></div>

	<script type="text/javascript">
		/**
		 * IE : 
		 		message :“d”未定义
				url : http://demo.pplive.com/temp/test.js
				line : 2

		 * Chrome : 
		 		message: Script error.
				url : 
				line : 0

		 * FireFox : 
		 		message : Script error.
				url : http://demo.pplive.com/temp/test.js
				line : 0

			Script error.”,”", 0  ->  Access-Control-Allow-Origin: * ?	

		*/

		try{

			window.onerror = function(msg, url, line){
				var str = '<strong>Message :</strong> ' + msg + '<br/>' +
									'<strong>Url : </strong>' + url + '<br/>' + 
									'<strong>Line : </strong>' + line
						;
				
				document.getElementById('error').innerHTML = str;

				return true; //浏览器及控制台不会错误(Chrome 和 FireFox)

			}

		}catch(e){

			var msg = '<strong>Name :</strong> ' + e.name + '<br/>' +
								'<strong>Message :</strong> ' + e.message  + '<br/>'
					;

			document.getElementById('error').innerHTML = msg;

		}
	</script>
	<script type="text/javascript" src="http://demo.pptv.com/temp/test.js"></script>

	<script type="text/javascript">
		// var a = 1,
		//     b = d //error -> 'd' is not defined
		// ; 

		// c = a + b;

		// alert(c);

	</script>

</body>
</html>
